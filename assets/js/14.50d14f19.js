(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{372:function(e,t,i){e.exports=i.p+"assets/img/liana-expiring.ffca809a.png"},373:function(e,t,i){e.exports=i.p+"assets/img/liana-batch-payment.0d7411be.svg"},388:function(e,t,i){"use strict";i.r(t);var n=i(25),a=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"https://wizardsardine.com/liana/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Liana"),t("OutboundLink")],1),e._v(" secures bitcoin such that after time passes, if and only if you haven't yet spent your coins, your heirs can spend them. This condition is called a \"timelock\" contract. To prevent unintentional activation of this inheritance policy, these timelocked coins require periodic refreshing by being spent into a new timelock. Liana's Payjoin integration automates timelock refresh as payments are received, boosting privacy and cutting costs.")]),e._v(" "),t("p",[e._v("Timelock contracts define some time in the future when funds can be spent by heirs. Before that, only the primary owner can spend the funds. However, there's a catch: most users do not frequently spend their Bitcoin. A "),t("a",{attrs:{href:"https://www.sciencedirect.com/science/article/pii/S0378437124008045",target:"_blank",rel:"noopener noreferrer"}},[e._v("2024 study"),t("OutboundLink")],1),e._v(" found that the age of unspent coins follows a power-law distribution (see Figure 3 that study). In practice, this means coins are typically either spent soon after receipt or held for long periods. "),t("a",{attrs:{href:"https://charts.bitbo.io/hodl-waves/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Data also suggests"),t("OutboundLink")],1),e._v(" that most coins remain unspent for months or years. To avoid unintentionally triggering a recovery path, users often resort to reconciliation of their coins to reset timelocks.")]),e._v(" "),t("img",{attrs:{alt:"Liana time locked coins",src:i(372)}}),e._v(" "),t("p",[e._v("But this reconciliation comes at a cost to privacy. These transactions create an identifiable on-chain footprint, making it easier for on-chain surveillance to estimate a user's balance and transaction history. This is primarily due to the "),t("a",{attrs:{href:"https://en.bitcoin.it/wiki/Common-input-ownership_heuristic",target:"_blank",rel:"noopener noreferrer"}},[e._v("common input ownership heuristic"),t("OutboundLink")],1),e._v(", which assumes all inputs in a transaction belong to the same entity. Combined with unique transaction patterns that act like fingerprints, these heuristics allow on-chain analysts to cluster a user's addresses and glean sensitive information.")]),e._v(" "),t("h2",{attrs:{id:"payjoin-as-a-privacy-preserving-refresh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#payjoin-as-a-privacy-preserving-refresh"}},[e._v("#")]),e._v(" Payjoin as a Privacy-Preserving Refresh")]),e._v(" "),t("p",[e._v("This is where Payjoin shines. When a user receives via Payjoin they get a chance to spend their own coins and tell the sender which outputs to create. In doing so Payjoin spends timelocked coins to refresh their timelocks while adding funds to their wallet.")]),e._v(" "),t("img",{attrs:{alt:"Liana Payjoin",src:i(373)}}),e._v(" "),t("h2",{attrs:{id:"caveats"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#caveats"}},[e._v("#")]),e._v(" Caveats")]),e._v(" "),t("p",[e._v("Note that the common-input heuristic is not defeated when using Payjoin with Liana's default "),t("a",{attrs:{href:"https://river.com/learn/terms/p/p2wsh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("P2WSH"),t("OutboundLink")],1),e._v(" inputsâ€”unless both participants share similar wallet policies. Because the spending script is always revealed on-chain, it leaves a distinct fingerprint from other script types. Liana uses P2WSH by default to maintain compatibility with hardware wallets, which currently have limited support for "),t("a",{attrs:{href:"https://github.com/bitcoin/bitcoin/pull/27255",target:"_blank",rel:"noopener noreferrer"}},[e._v("Taproot miniscript descriptors aka MiniTapscript"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://thebitcoinmanual.com/articles/pay-to-taproot-p2tr",target:"_blank",rel:"noopener noreferrer"}},[e._v("Taproot inputs"),t("OutboundLink")],1),e._v(", which use a newer script type, do not suffer from this issue. With Taproot's key-path spending, the recovery script remains hidden unless it is invoked. Taproot makes it possible to conduct Payjoin transactions between users with different wallet policies and still break the common-input heuristic.")]),e._v(" "),t("h2",{attrs:{id:"proof-of-concept-and-next-steps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proof-of-concept-and-next-steps"}},[e._v("#")]),e._v(" Proof of Concept and Next Steps")]),e._v(" "),t("p",[e._v("During the MIT Bitcoin Hackathon, the Payjoin team developed a working proof of concept for both the Payjoin receiver and sender integrated with Liana. You can view the prototype "),t("a",{attrs:{href:"https://github.com/0xBEEFCAF3/liana/tree/payjoin-hackathon",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(". In just 30 hours, the team successfully implemented the core functionality.")]),e._v(" "),t("p",[e._v("Looking ahead, we're coordinating closely with the Liana engineering team to bring this integration to production. This involves rigorous testing, refining the transaction construction logic, and ensuring compatibility with Liana's policy enforcement mechanisms. Together, we'll work toward a robust, production-ready release that empowers users with a privacy-preserving, fee-efficient way to manage their recovery paths.")]),e._v(" "),t("p",[e._v("This integration brings privacy and practicality to Bitcoin inheritance, showing how simple batching protocols like Payjoin can improve user experience without compromising privacy.")])])}),[],!1,null,null,null);t.default=a.exports}}]);